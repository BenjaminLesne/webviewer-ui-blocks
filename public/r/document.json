{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "document",
  "type": "registry:component",
  "description": "Component for loading PDF documents into the viewer",
  "dependencies": [
    "@tanstack/react-query"
  ],
  "registryDependencies": [
    "use-core-instance"
  ],
  "files": [
    {
      "path": "registry/components/document.tsx",
      "content": "\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { useCoreInstance } from \"@/hooks/use-core-instance\";\n\nexport type DocumentProps = {\n  /**\n   * Path to the PDF document to load.\n   * Can be a relative path (e.g., \"/documents/sample.pdf\") or\n   * an absolute URL (e.g., \"https://example.com/document.pdf\").\n   */\n  documentPath: string;\n  /**\n   * Callback fired when the document has been successfully loaded.\n   */\n  onLoad?: () => void;\n  /**\n   * Callback fired when document loading fails.\n   */\n  onError?: (error: Error) => void;\n};\n\n/**\n * Component for loading PDF documents into the viewer.\n *\n * This component uses @tanstack/react-query's useMutation for document loading,\n * which provides built-in state management for loading, error, and success states.\n *\n * Must be used within a WebViewerProvider context.\n */\nexport const Document = ({ documentPath, onLoad, onError }: DocumentProps) => {\n  const { documentViewer } = useCoreInstance();\n  const previousPathRef = useRef<string | null>(null);\n\n  const { mutate: loadDocument } = useMutation({\n    mutationFn: async (path: string) => {\n      await documentViewer.loadDocument(path);\n    },\n    onSuccess: () => {\n      onLoad?.();\n    },\n    onError: (error: Error) => {\n      onError?.(error);\n    },\n  });\n\n  useEffect(() => {\n    // Only load if the path has changed to avoid reloading on re-renders\n    if (documentPath && documentPath !== previousPathRef.current) {\n      previousPathRef.current = documentPath;\n      loadDocument(documentPath);\n    }\n  }, [documentPath, loadDocument]);\n\n  // This is a non-visual component\n  return null;\n};\n",
      "type": "registry:component"
    }
  ]
}