---
title: useRunWithLicense
description: Hook for running PDFNet operations with automatic license key handling
---

import { InstallCommand } from '@/components/docs/install-command';
import { ComponentSource } from '@/components/docs/component-source';

The `useRunWithLicense` hook provides a wrapper function for executing PDFNet operations with automatic license key handling and cleanup.

## Installation

<InstallCommand name="use-run-with-license" />

## Usage

```tsx
import { useRunWithLicense } from '@/hooks/use-run-with-license';

function PDFOperations() {
  const runWithLicense = useRunWithLicense();

  const extractText = async () => {
    const text = await runWithLicense(async () => {
      const doc = await PDFNet.PDFDoc.createFromURL('/sample.pdf');
      const textExtractor = await PDFNet.TextExtractor.create();
      const page = await doc.getPage(1);
      textExtractor.begin(page);
      return textExtractor.getAsText();
    });

    console.log(text);
  };

  return <button onClick={extractText}>Extract Text</button>;
}
```

## Return Value

Returns an async function with the signature:

```ts
<T>(operation: () => Promise<T>) => Promise<T>
```

The wrapper function:
- Executes your PDFNet operations with the license key
- Automatically handles cleanup via `PDFNet.runWithCleanup`

## Prerequisites

This hook requires:
- `LoadPDFNet` component to be rendered (loads the PDFNet script)
- `WebViewerProvider` context to be available

## Environment Variables

- `NEXT_PUBLIC_APRYSE_LICENSE_WEB`: Your Apryse license key

## Source

<ComponentSource name="use-run-with-license" type="hook" />
